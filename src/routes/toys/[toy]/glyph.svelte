
<script>
    import Glyphs from './glyphs.svelte';
    let single_target = false;
    let hover_target = true;
    let blank_fill = false;
    let breaker = 20;
    let glyph_break = 0;

    $: {
      glyph_break = breaker/100;
    }


    let glyphlist = ['?', '', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30', '31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41']
    let g = glyphlist[14];
    let glyph_grid = [
      [g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],
      [g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],
      [g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],
      [g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],
      [g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],breaker
      [g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],
      [g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],
      [g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],
      [g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],
      [g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g]
];
  $: {
    let g_trigger = g;
    let temp_row = [];
    for(let i = 0; i < 10; i++) {
      let temp_col = [];
      for(let j = 0; j < 17; j++) {
    {g}

    {JSON.stringify(glyph_grid)}
        temp_col.push(g)
      }
      temp_row.push(temp_col)
    }
    glyph_break = breaker/100;
    glyph_grid = temp_row;
  }



    let glyph_grid_empty = [
      ['?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?'],
      ['?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?'],
      ['?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?'],
      ['?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?'],
      ['?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?'],
      ['?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?'],
      ['?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?'],
      ['?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?'],
      ['?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?'],
      ['?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?','?']
];
let glyph_logo = [
  ['','','','','','','','?','?','','?','?','?','','',''],
  ['','','','','?','?','?','?','?','','?','?','?','?','',''],
  ['','','','?','?','?','','','','','?','?','?','?','',''],
  ['','','?','?','?','','','','','','?','?','?','?','',''],
  ['','','','','','','','','','','','?','?','','?',''],
  ['','?','?','','','','','','','','','','','','?','?'],
  ['?','?','?','?','','','','','','','','','','','?','?'],
  ['?','?','?','?','','','','','','','','','','','?','?'],
  ['','?','?','?','','','','','','','','','','','?','?'],
  ['','','','','','','','','','','','','','','?','?'],
  ['','','?','?','','','','','','','','','','?','?',''],
  ['','','?','?','?','','','','','','?','?','?','','?',''],
  ['','','','?','?','?','','','','?','?','?','?','','',''],
  ['','','','','?','?','?','?','','?','?','?','?','','',''],
  ['','','','','','','?','?','','','?','?','?','','','']
];
  
  
  </script>
<div class='win'>
  <div class="glyphs">
    {#if glyph_grid}
      <Glyphs {glyph_grid} {single_target} {blank_fill} {glyph_break} {hover_target}></Glyphs>
    {/if}
  </div>
  <div class="panel">
    Glyph
    <select bind:value="{g}">
      {#each glyphlist as glyph}
        <option>{glyph}</option>
      {/each}
    </select>

   Decay <button on:click={ () => { if(breaker > 0){ breaker -= 10; }}}>-</button> <button on:click={ () => { if(breaker <100){ breaker += 10; }}}>+</button> {breaker} 

  </div>
</div>
  

<style>
  .win {
    display: flex;
    flex-direction: row;
      width: 100%;
      height:100%;
  }
    .glyphs {
      width: 60%;
      height:100%;
    }
    .panel {
      width: 40%;
      height:100%;

    }
</style>